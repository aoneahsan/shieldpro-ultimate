(()=>{"use strict";var e,t={9320:(e,t,s)=>{var a=s(4848),r=s(6540),l=s.n(r),i=s(5338),n=s(2469),c=s(5642),o=s(2911),d=s(8803),x=s(1806),m=s(2813),h=s(3676),p=s(7129),g=s(2668),u=s(4233),y=s(8368),b=s(1997),j=s(3794),N=s(1216),f=s(7113),v=s(2127),w=s(8864),k=s(4260),A=s(9045),S=s(1264),C=s(7563),R=s(5641),T=s(6015),D=s(3318);const L=({currentTier:e})=>{const[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(!1),[n,o]=(0,r.useState)({name:"",selector:"",description:"",enabled:!0,isRegex:!1,isScheduled:!1}),[d,x]=(0,r.useState)([]),[m,h]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{u()},[]);const u=async()=>{try{const e=await chrome.storage.local.get("customFilters");e.customFilters&&s(e.customFilters)}catch(e){}},j=async e=>{try{await chrome.storage.local.set({customFilters:e}),s(e),chrome.runtime.sendMessage({action:"customFiltersUpdated",filters:e})}catch(e){}};if(e<3)return(0,a.jsxs)("div",{className:"p-6 bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(c.A,{className:"w-6 h-6 text-amber-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Custom Filters"})]}),(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:"Upgrade to Tier 3 to unlock custom filter creation, element picker, and advanced blocking rules."}),(0,a.jsx)("button",{className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:"Upgrade to Tier 3"})]});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(c.A,{className:"w-6 h-6 text-primary-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Custom Filters"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Tier 3 Feature"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:async()=>{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});e.id&&(chrome.tabs.sendMessage(e.id,{action:"activateElementPicker"}),window.close())},className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Element Picker"})]}),(0,a.jsx)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=async e=>{const s=e.target.files?.[0];if(!s)return;const a=new FileReader;a.onload=async e=>{try{const s=JSON.parse(e.target?.result);if(Array.isArray(s)){const e=[...t,...s];await j(e),alert(`Imported ${s.length} filters successfully!`)}}catch(e){alert("Failed to import filters. Please check the file format.")}},a.readAsText(s)},e.click()},className:"p-2 text-gray-600 hover:text-gray-800 transition-colors",title:"Import filters",children:(0,a.jsx)(b.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>{const e=JSON.stringify(t,null,2),s="data:application/json;charset=utf-8,"+encodeURIComponent(e),a=`shieldpro-filters-${Date.now()}.json`,r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download",a),r.click()},className:"p-2 text-gray-600 hover:text-gray-800 transition-colors",title:"Export filters",children:(0,a.jsx)(y.A,{className:"w-5 h-5"})}),(0,a.jsxs)("button",{onClick:()=>i(!0),className:"px-3 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Filter"})]})]})]}),l&&(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New Filter"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter Name"}),(0,a.jsx)("input",{type:"text",value:n.name,onChange:e=>o({...n,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Remove sidebar ads"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),(0,a.jsx)("input",{type:"text",value:n.description,onChange:e=>o({...n,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"What does this filter do?"})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSS Selector or Pattern"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",value:n.selector,onChange:e=>o({...n,selector:e.target.value}),className:"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 font-mono text-sm",placeholder:".ad-container, #sidebar-ads, [class*='sponsored']"}),(0,a.jsx)("button",{onClick:async()=>{if(!n.selector)return;g(!0);const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});e.id&&chrome.tabs.sendMessage(e.id,{action:"testSelector",selector:n.selector,isRegex:n.isRegex},e=>{h(void 0!==e?.matchCount?`Found ${e.matchCount} matching element(s)`:"Error testing selector"),g(!1)})},disabled:p,className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:p?(0,a.jsx)(k.A,{className:"w-4 h-4 animate-spin"}):"Test"})]}),m&&(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:m})]}),(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.enabled,onChange:e=>o({...n,enabled:e.target.checked}),className:"rounded text-primary-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Enable immediately"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.isRegex,onChange:e=>o({...n,isRegex:e.target.checked}),className:"rounded text-primary-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Use as Regular Expression"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.isScheduled,onChange:e=>o({...n,isScheduled:e.target.checked}),className:"rounded text-primary-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Schedule this filter"})]})]}),n.isScheduled&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Schedule Settings"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Active Days"}),(0,a.jsx)("div",{className:"flex space-x-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,a.jsx)("button",{onClick:()=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"px-3 py-1 text-sm rounded "+(d.includes(e)?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:e},e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Start Time"}),(0,a.jsx)("input",{type:"time",id:"startTime",className:"w-full px-3 py-2 border rounded-lg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"End Time"}),(0,a.jsx)("input",{type:"time",id:"endTime",className:"w-full px-3 py-2 border rounded-lg"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{i(!1),o({name:"",selector:"",description:"",enabled:!0,isRegex:!1,isScheduled:!1}),h("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,a.jsxs)("button",{onClick:()=>{if(!n.name||!n.selector)return void alert("Please provide a name and selector");const e={id:Date.now().toString(),name:n.name,selector:n.selector,description:n.description,enabled:!1!==n.enabled,createdAt:Date.now(),matchCount:0,isRegex:n.isRegex,isScheduled:n.isScheduled,schedule:n.isScheduled?{days:d,startTime:document.getElementById("startTime")?.value,endTime:document.getElementById("endTime")?.value}:void 0},s=[...t,e];j(s),o({name:"",selector:"",description:"",enabled:!0,isRegex:!1,isScheduled:!1}),x([]),i(!1)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(A.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Save Filter"})]})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,a.jsx)(c.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No custom filters yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Create your first filter or use the element picker"})]}):t.map(e=>(0,a.jsx)("div",{className:"bg-white border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),e.isRegex&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"RegEx"}),e.isScheduled&&(0,a.jsxs)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded flex items-center space-x-1",children:[(0,a.jsx)(S.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Scheduled"})]})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,a.jsx)("code",{className:"text-xs text-gray-700 bg-gray-100 px-2 py-1 rounded block overflow-x-auto",children:e.selector}),e.isScheduled&&e.schedule&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Active: ",e.schedule.days.join(", "),e.schedule.startTime&&e.schedule.endTime&&(0,a.jsxs)("span",{children:[" â€¢ ",e.schedule.startTime," - ",e.schedule.endTime]})]})]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]}),(0,a.jsxs)("span",{children:["Matches: ",e.matchCount]}),e.lastUsed&&(0,a.jsxs)("span",{children:["Last used: ",new Date(e.lastUsed).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>(e=>{const s=t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t);j(s)})(e.id),className:"p-2 rounded-lg transition-colors "+(e.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"),title:e.enabled?"Disable":"Enable",children:e.enabled?(0,a.jsx)(v.A,{className:"w-4 h-4"}):(0,a.jsx)(C.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.selector),alert("Selector copied to clipboard!")},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Copy selector",children:(0,a.jsx)(R.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>(e=>{const s=t.filter(t=>t.id!==e);j(s)})(e.id),className:"p-2 text-red-400 hover:text-red-600 transition-colors",title:"Delete filter",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})})]})]})},e.id))}),t.length>0&&(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(D.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[t.filter(e=>e.enabled).length," active filters"]})]}),(0,a.jsxs)("span",{className:"text-sm text-blue-700",children:["Total blocked: ",t.reduce((e,t)=>e+t.matchCount,0)," elements"]})]})})]})};var F=s(6508),E=s(9158);const P=({currentTier:e})=>{const[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(""),[n,c]=(0,r.useState)(!1),[o,x]=(0,r.useState)({domain:"",pattern:"",description:"",enabled:!0,isRegex:!1,isTemporary:!1,allowedResources:[]});(0,r.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await chrome.storage.local.get("advancedWhitelist");e.advancedWhitelist&&s(e.advancedWhitelist)}catch(e){}},h=async e=>{try{await chrome.storage.local.set({advancedWhitelist:e}),s(e),chrome.runtime.sendMessage({action:"whitelistUpdated",whitelist:e})}catch(e){}},p=t.filter(e=>e.domain.toLowerCase().includes(l.toLowerCase())||e.pattern?.toLowerCase().includes(l.toLowerCase())||e.description?.toLowerCase().includes(l.toLowerCase()));return e<3?(0,a.jsxs)("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(d.A,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Advanced Whitelist"})]}),(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:"Upgrade to Tier 3 to unlock advanced whitelist features including patterns, regex support, and temporary whitelisting."}),(0,a.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Upgrade to Tier 3"})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(d.A,{className:"w-6 h-6 text-primary-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Advanced Whitelist"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Tier 3 Feature"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=async e=>{const s=e.target.files?.[0];if(!s)return;const a=new FileReader;a.onload=async e=>{try{const s=JSON.parse(e.target?.result);if(Array.isArray(s)){const e=[...t,...s];await h(e),alert(`Imported ${s.length} entries successfully!`)}}catch(e){alert("Failed to import whitelist. Please check the file format.")}},a.readAsText(s)},e.click()},className:"p-2 text-gray-600 hover:text-gray-800 transition-colors",title:"Import whitelist",children:(0,a.jsx)(b.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>{const e=JSON.stringify(t,null,2),s="data:application/json;charset=utf-8,"+encodeURIComponent(e),a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download",`shieldpro-whitelist-${Date.now()}.json`),a.click()},className:"p-2 text-gray-600 hover:text-gray-800 transition-colors",title:"Export whitelist",children:(0,a.jsx)(y.A,{className:"w-5 h-5"})}),(0,a.jsxs)("button",{onClick:()=>c(!0),className:"px-3 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Entry"})]})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(F.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Search whitelist entries...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500"})]}),n&&(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Add Whitelist Entry"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),(0,a.jsx)("input",{type:"text",value:o.domain,onChange:e=>x({...o,domain:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pattern (Optional)"}),(0,a.jsx)("input",{type:"text",value:o.pattern,onChange:e=>x({...o,pattern:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"*/path/* or regex pattern"})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("input",{type:"text",value:o.description,onChange:e=>x({...o,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Why is this site whitelisted?"})]}),(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.enabled,onChange:e=>x({...o,enabled:e.target.checked}),className:"rounded text-primary-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Enable immediately"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.isRegex,onChange:e=>x({...o,isRegex:e.target.checked}),className:"rounded text-primary-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Use Regular Expression"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.isTemporary,onChange:e=>x({...o,isTemporary:e.target.checked}),className:"rounded text-primary-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Temporary whitelist"})]})]}),o.isTemporary&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (hours)"}),(0,a.jsx)("input",{type:"number",id:"tempDuration",defaultValue:"24",min:"1",max:"720",className:"w-32 px-3 py-2 border rounded-lg"})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allowed Resource Types (Leave empty for all)"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["script","image","stylesheet","font","media","xmlhttprequest","sub_frame","other"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-1",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.allowedResources?.includes(e),onChange:t=>{const s=o.allowedResources||[];t.target.checked?x({...o,allowedResources:[...s,e]}):x({...o,allowedResources:s.filter(t=>t!==e)})},className:"rounded text-primary-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{c(!1),x({domain:"",pattern:"",description:"",enabled:!0,isRegex:!1,isTemporary:!1,allowedResources:[]})},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,a.jsxs)("button",{onClick:()=>{if(!o.domain&&!o.pattern)return void alert("Please provide a domain or pattern");const e={id:Date.now().toString(),domain:o.domain||"",pattern:o.pattern,description:o.description,enabled:!1!==o.enabled,createdAt:Date.now(),isRegex:o.isRegex,isTemporary:o.isTemporary,expiresAt:o.isTemporary?Date.now()+60*parseInt(document.getElementById("tempDuration")?.value||"24")*60*1e3:void 0,allowedResources:o.allowedResources||[]},s=[...t,e];h(s),x({domain:"",pattern:"",description:"",enabled:!0,isRegex:!1,isTemporary:!1,allowedResources:[]}),c(!1)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(A.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Save Entry"})]})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:0===p.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,a.jsx)(d.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No whitelist entries yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add trusted sites to allow ads on them"})]}):p.map(e=>(0,a.jsx)("div",{className:"bg-white border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.domain||e.pattern}),e.isRegex&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"RegEx"}),e.isTemporary&&(0,a.jsxs)("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs rounded flex items-center space-x-1",children:[(0,a.jsx)(S.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Temporary"})]}),!e.enabled&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:"Disabled"})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),e.pattern&&(0,a.jsxs)("code",{className:"text-xs text-gray-700 bg-gray-100 px-2 py-1 rounded mt-2 inline-block",children:["Pattern: ",e.pattern]}),e.allowedResources&&e.allowedResources.length>0&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Allowed: "}),e.allowedResources.map(e=>(0,a.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded ml-1",children:e},e))]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Added: ",new Date(e.createdAt).toLocaleDateString()]}),e.lastUsed&&(0,a.jsxs)("span",{children:["Last used: ",new Date(e.lastUsed).toLocaleDateString()]}),e.expiresAt&&(0,a.jsxs)("span",{className:"text-yellow-600",children:["Expires: ",new Date(e.expiresAt).toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>(e=>{const s=t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t);h(s)})(e.id),className:"p-2 rounded-lg transition-colors "+(e.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"),title:e.enabled?"Disable":"Enable",children:e.enabled?(0,a.jsx)(D.A,{className:"w-4 h-4"}):(0,a.jsx)(E.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>(e=>{const s=t.filter(t=>t.id!==e);h(s)})(e.id),className:"p-2 text-red-400 hover:text-red-600 transition-colors",title:"Delete entry",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})})]})]})},e.id))}),t.length>0&&(0,a.jsx)("div",{className:"bg-green-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-green-900",children:[t.filter(e=>e.enabled).length," active entries"]})]}),(0,a.jsxs)("span",{className:"text-sm text-green-700",children:[t.filter(e=>e.isTemporary).length," temporary"]})]})})]})};var B=s(951),U=s(5148),M=s(1516);const I=[{id:"easylist",name:"EasyList",url:"https://easylist.to/easylist/easylist.txt",description:"Primary ad blocking list",enabled:!0,autoUpdate:!0,updateInterval:24,filterCount:75e3,blockedCount:0,category:"ads",source:"builtin",version:"2024.1",homepage:"https://easylist.to",format:"easylist",priority:1,isSubscribed:!0,tags:["essential","ads","popular"]},{id:"easyprivacy",name:"EasyPrivacy",url:"https://easylist.to/easylist/easyprivacy.txt",description:"Privacy protection list",enabled:!0,autoUpdate:!0,updateInterval:24,filterCount:25e3,blockedCount:0,category:"privacy",source:"builtin",version:"2024.1",homepage:"https://easylist.to",format:"easylist",priority:2,isSubscribed:!0,tags:["privacy","tracking","essential"]},{id:"malware-domains",name:"Malware Domain List",url:"https://malwaredomainlist.com/hostslist/hosts.txt",description:"Block malicious domains",enabled:!1,autoUpdate:!0,updateInterval:48,filterCount:15e3,blockedCount:0,category:"malware",source:"builtin",format:"hosts",priority:3,isSubscribed:!1,tags:["security","malware","phishing"]}],q=[{id:"fanboy-social",name:"Fanboy's Social Blocking List",url:"https://easylist.to/easylist/fanboy-social.txt",description:"Block social media widgets",enabled:!1,autoUpdate:!0,updateInterval:72,filterCount:12e3,blockedCount:0,category:"social",source:"community",format:"easylist",priority:10,isSubscribed:!1,tags:["social","widgets","performance"]},{id:"peter-lowe",name:"Peter Lowe's Ad Server List",url:"https://pgl.yoyo.org/adservers/serverlist.php",description:"Comprehensive ad server blocking",enabled:!1,autoUpdate:!0,updateInterval:168,filterCount:3500,blockedCount:0,category:"ads",source:"community",format:"hosts",priority:11,isSubscribed:!1,tags:["ads","servers","lightweight"]}],O=({currentTier:e})=>{const[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(""),[n,o]=(0,r.useState)("all"),[d,x]=(0,r.useState)(!1),[p,g]=(0,r.useState)({name:"",url:"",description:"",category:"custom",format:"easylist",autoUpdate:!0,updateInterval:24,tags:[]}),[j,N]=(0,r.useState)(null),[f,v]=(0,r.useState)({});(0,r.useEffect)(()=>{A()},[]);const A=async()=>{try{const e=await chrome.storage.local.get("filterLists");if(e.filterLists)s(e.filterLists);else{const e=[...I];await chrome.storage.local.set({filterLists:e}),s(e)}}catch(e){}},C=async e=>{try{await chrome.storage.local.set({filterLists:e}),s(e),chrome.runtime.sendMessage({action:"filterListsUpdated",lists:e})}catch(e){}},R=async e=>{N(e),v({...f,[e]:0});try{const s=setInterval(()=>{v(t=>({...t,[e]:Math.min((t[e]||0)+10,90)}))},200),a=await chrome.runtime.sendMessage({action:"updateFilterList",listId:e});if(clearInterval(s),v({...f,[e]:100}),a?.success){const s=t.map(t=>t.id===e?{...t,lastUpdated:Date.now(),lastChecked:Date.now(),filterCount:a.filterCount||t.filterCount}:t);await C(s)}setTimeout(()=>{v(t=>{const s={...t};return delete s[e],s})},1e3)}catch(e){alert("Failed to update filter list")}finally{N(null)}};if(e<4)return(0,a.jsxs)("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(h.A,{className:"w-6 h-6 text-purple-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Filter List Manager"})]}),(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:"Upgrade to Tier 4 to unlock advanced filter list management, custom subscriptions, and import/export functionality."}),(0,a.jsx)("button",{className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"Upgrade to Tier 4"})]});const D=t.filter(e=>{const t=""===l||e.name.toLowerCase().includes(l.toLowerCase())||e.description?.toLowerCase().includes(l.toLowerCase()),s="all"===n||e.category===n;return t&&s});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(m.A,{className:"w-6 h-6 text-purple-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Filter List Manager"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:"Tier 4 Feature"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:async()=>{for(const e of t.filter(e=>e.enabled&&e.autoUpdate))await R(e.id),await new Promise(e=>setTimeout(e,500))},className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(k.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Update All"})]}),(0,a.jsx)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=async e=>{const s=e.target.files?.[0];if(!s)return;const a=new FileReader;a.onload=async e=>{try{const s=JSON.parse(e.target?.result);if(s.lists&&Array.isArray(s.lists)){const e=s.lists.map(e=>({...e,id:`imported-${Date.now()}-${Math.random()}`})),a=[...t,...e];await C(a),alert(`Imported ${e.length} filter lists successfully!`)}}catch(e){alert("Failed to import filter lists. Please check the file format.")}},a.readAsText(s)},e.click()},className:"p-2 text-gray-600 hover:text-gray-800",title:"Import lists",children:(0,a.jsx)(b.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>{const e={version:"1.0",timestamp:Date.now(),lists:t.filter(e=>"custom"===e.source)},s=JSON.stringify(e,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(s),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download",`filter-lists-${Date.now()}.json`),r.click()},className:"p-2 text-gray-600 hover:text-gray-800",title:"Export lists",children:(0,a.jsx)(y.A,{className:"w-5 h-5"})}),(0,a.jsxs)("button",{onClick:()=>x(!0),className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add List"})]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(F.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Search filter lists...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsx)("div",{className:"flex space-x-2",children:["all","ads","privacy","malware","social","custom"].map(e=>(0,a.jsx)("button",{onClick:()=>o(e),className:"px-4 py-2 rounded-lg transition-colors "+(n===e?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),d&&(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Add Custom Filter List"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"List Name"}),(0,a.jsx)("input",{type:"text",value:p.name,onChange:e=>g({...p,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"e.g., Custom Ad Block List"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,a.jsxs)("select",{value:p.category,onChange:e=>g({...p,category:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,a.jsx)("option",{value:"ads",children:"Ads"}),(0,a.jsx)("option",{value:"privacy",children:"Privacy"}),(0,a.jsx)("option",{value:"malware",children:"Malware"}),(0,a.jsx)("option",{value:"social",children:"Social"}),(0,a.jsx)("option",{value:"custom",children:"Custom"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter List URL"}),(0,a.jsx)("input",{type:"url",value:p.url,onChange:e=>g({...p,url:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"https://example.com/filters.txt"})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),(0,a.jsx)("textarea",{value:p.description,onChange:e=>g({...p,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:2,placeholder:"What does this filter list block?"})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Format"}),(0,a.jsxs)("select",{value:p.format,onChange:e=>g({...p,format:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,a.jsx)("option",{value:"easylist",children:"EasyList"}),(0,a.jsx)("option",{value:"hosts",children:"Hosts File"}),(0,a.jsx)("option",{value:"adguard",children:"AdGuard"}),(0,a.jsx)("option",{value:"ublock",children:"uBlock Origin"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Update Interval (hours)"}),(0,a.jsx)("input",{type:"number",value:p.updateInterval,onChange:e=>g({...p,updateInterval:parseInt(e.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",min:"1",max:"720"})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:p.autoUpdate,onChange:e=>g({...p,autoUpdate:e.target.checked}),className:"rounded text-purple-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Enable automatic updates"})]})}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{x(!1),g({name:"",url:"",description:"",category:"custom",format:"easylist",autoUpdate:!0,updateInterval:24,tags:[]})},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,a.jsx)("button",{onClick:async()=>{if(!p.name||!p.url)return void alert("Please provide a name and URL for the filter list");const e={id:`custom-${Date.now()}`,name:p.name,url:p.url,description:p.description||"",enabled:!0,autoUpdate:p.autoUpdate||!1,updateInterval:p.updateInterval||168,filterCount:0,blockedCount:0,category:p.category||"custom",source:"custom",format:p.format||"easylist",priority:t.length+1,isSubscribed:!0,tags:p.tags||[]},s=[...t,e];await C(s),g({name:"",url:"",description:"",category:"custom",format:"easylist",autoUpdate:!0,updateInterval:24,tags:[]}),x(!1),await R(e.id)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Add List"})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:0===D.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,a.jsx)(m.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No filter lists found"})]}):D.map(e=>(0,a.jsx)("div",{className:"bg-white border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded "+("builtin"===e.source?"bg-blue-100 text-blue-700":"community"===e.source?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"),children:e.source}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded "+("ads"===e.category?"bg-red-100 text-red-700":"privacy"===e.category?"bg-indigo-100 text-indigo-700":"malware"===e.category?"bg-orange-100 text-orange-700":"social"===e.category?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-700"),children:e.category})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(c.A,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:[e.filterCount.toLocaleString()," filters"]})]}),(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(u.A,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:[e.blockedCount.toLocaleString()," blocked"]})]}),e.lastUpdated&&(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(S.A,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["Updated ",new Date(e.lastUpdated).toLocaleDateString()]})]}),e.autoUpdate&&(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(k.A,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["Every ",e.updateInterval,"h"]})]})]}),void 0!==f[e.id]&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${f[e.id]}%`}})})}),e.tags&&e.tags.length>0&&(0,a.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:e.tags.map(e=>(0,a.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>(async e=>{const s=t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t);await C(s)})(e.id),className:"p-2 rounded-lg transition-colors "+(e.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"),title:e.enabled?"Disable":"Enable",children:e.enabled?(0,a.jsx)(B.A,{className:"w-5 h-5"}):(0,a.jsx)(U.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>R(e.id),disabled:j===e.id,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50",title:"Update now",children:(0,a.jsx)(k.A,{className:"w-4 h-4 "+(j===e.id?"animate-spin":"")})}),e.homepage&&(0,a.jsx)("a",{href:e.homepage,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Visit homepage",children:(0,a.jsx)(M.A,{className:"w-4 h-4"})}),"custom"===e.source&&(0,a.jsx)("button",{onClick:()=>(async e=>{if("builtin"===t.find(t=>t.id===e)?.source)return void alert("Cannot delete built-in filter lists");const s=t.filter(t=>t.id!==e);await C(s)})(e.id),className:"p-2 text-red-400 hover:text-red-600 transition-colors",title:"Delete list",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})})]})]})},e.id))}),e>=4&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Available Community Lists"}),(0,a.jsx)("div",{className:"space-y-3",children:q.filter(e=>!t.find(t=>t.id===e.id)).map(e=>(0,a.jsx)("div",{className:"bg-gray-50 border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded",children:"community"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:[e.filterCount.toLocaleString()," filters"]}),(0,a.jsx)("span",{children:e.category})]})]}),(0,a.jsxs)("button",{onClick:()=>(async e=>{const s=q.find(t=>t.id===e);if(!s)return;const a=[...t,{...s,isSubscribed:!0}];await C(a),await R(e)})(e.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Subscribe"})]})]})},e.id))})]}),(0,a.jsx)("div",{className:"bg-purple-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.filter(e=>e.enabled).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Active Lists"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.reduce((e,t)=>e+(t.enabled?t.filterCount:0),0).toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Filters"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.reduce((e,t)=>e+t.blockedCount,0).toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Blocked"})]})]})})]})};var $=s(1224),W=s(6788),z=s(8437),G=s(3035);const H=({currentTier:e})=>{const[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)([]),[n,c]=(0,r.useState)(""),[o,d]=(0,r.useState)("all"),[x,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),[g,j]=(0,r.useState)({domain:"",type:"domain",reason:"",enabled:!0,temporary:!1,scope:"all",tags:[],isFavorite:!1}),[N,f]=(0,r.useState)(!1),[v,k]=(0,r.useState)(null);(0,r.useEffect)(()=>{C(),R(),L()},[]);const C=async()=>{try{const e=await chrome.storage.local.get("whitelist");e.whitelist&&s(e.whitelist)}catch(e){}},R=async()=>{try{const e=await chrome.storage.local.get("whitelistGroups");e.whitelistGroups&&i(e.whitelistGroups)}catch(e){}},D=async e=>{try{await chrome.storage.local.set({whitelist:e}),s(e),chrome.runtime.sendMessage({action:"whitelistUpdated",entries:e})}catch(e){}},L=async()=>{const e=Date.now(),s=t.filter(t=>!t.temporary||!t.expiresAt||t.expiresAt>e);s.length!==t.length&&await D(s)};if(e<4)return(0,a.jsxs)("div",{className:"p-6 bg-gradient-to-r from-green-50 to-teal-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(u.A,{className:"w-6 h-6 text-green-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Whitelist Manager"})]}),(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:"Upgrade to Tier 4 to unlock advanced whitelist management with temporary entries, groups, and regex support."}),(0,a.jsx)("button",{className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Upgrade to Tier 4"})]});const E=t.filter(e=>{const t=""===n||e.domain.toLowerCase().includes(n.toLowerCase())||e.reason?.toLowerCase().includes(n.toLowerCase()),s="all"===o||e.scope===o||"favorites"===o&&e.isFavorite;return t&&s});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(u.A,{className:"w-6 h-6 text-green-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Whitelist Manager"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Tier 4 Feature"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>f(!N),className:"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Groups"}),(0,a.jsx)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=async e=>{const s=e.target.files?.[0];if(!s)return;const a=new FileReader;a.onload=async e=>{try{const s=JSON.parse(e.target?.result);if(s.entries){const e=s.entries.map(e=>({...e,id:`imported-${Date.now()}-${Math.random()}`})),a=[...t,...e];if(await D(a),s.groups){const e=s.groups.map(e=>({...e,id:`imported-${Date.now()}-${Math.random()}`}));await chrome.storage.local.set({whitelistGroups:[...l,...e]}),i([...l,...e])}alert(`Imported ${e.length} whitelist entries successfully!`)}}catch(e){alert("Failed to import whitelist. Please check the file format.")}},a.readAsText(s)},e.click()},className:"p-2 text-gray-600 hover:text-gray-800",title:"Import whitelist",children:(0,a.jsx)(b.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>{const e={version:"1.0",timestamp:Date.now(),entries:t,groups:l},s=JSON.stringify(e,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(s),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download",`whitelist-${Date.now()}.json`),r.click()},className:"p-2 text-gray-600 hover:text-gray-800",title:"Export whitelist",children:(0,a.jsx)(y.A,{className:"w-5 h-5"})}),(0,a.jsxs)("button",{onClick:()=>m(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Entry"})]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(F.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),placeholder:"Search whitelist entries...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,a.jsx)("div",{className:"flex space-x-2",children:["all","ads","trackers","social","custom","favorites"].map(e=>(0,a.jsx)("button",{onClick:()=>d(e),className:"px-4 py-2 rounded-lg transition-colors "+(o===e?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"favorites"===e?(0,a.jsx)($.A,{className:"w-4 h-4"}):e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Quick Add Popular Sites"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[{domain:"google.com",reason:"Search engine",scope:"trackers"},{domain:"youtube.com",reason:"Video platform",scope:"ads"},{domain:"facebook.com",reason:"Social media",scope:"trackers"},{domain:"twitter.com",reason:"Social media",scope:"trackers"},{domain:"linkedin.com",reason:"Professional network",scope:"trackers"},{domain:"github.com",reason:"Code repository",scope:"all"},{domain:"stackoverflow.com",reason:"Developer community",scope:"ads"}].filter(e=>!t.find(t=>t.domain===e.domain)).map(e=>(0,a.jsxs)("button",{onClick:()=>(async e=>{const s={id:Date.now().toString(),domain:e.domain,type:"domain",reason:e.reason,enabled:!0,temporary:!1,createdAt:Date.now(),hitCount:0,tags:[],priority:t.length+1,isFavorite:!1,scope:e.scope},a=[...t,s];await D(a)})(e),className:"px-3 py-1 bg-white text-gray-700 rounded-lg hover:bg-blue-100 transition-colors text-sm flex items-center space-x-1",children:[(0,a.jsx)(w.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.domain})]},e.domain))})]}),x&&(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Add Whitelist Entry"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain or URL"}),(0,a.jsx)("input",{type:"text",value:g.domain,onChange:e=>j({...g,domain:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"example.com or https://example.com/page"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,a.jsxs)("select",{value:g.type,onChange:e=>j({...g,type:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,a.jsx)("option",{value:"domain",children:"Domain"}),(0,a.jsx)("option",{value:"page",children:"Specific Page"}),(0,a.jsx)("option",{value:"regex",children:"Regular Expression"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),(0,a.jsx)("input",{type:"text",value:g.reason,onChange:e=>j({...g,reason:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Why whitelist this site?"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scope"}),(0,a.jsxs)("select",{value:g.scope,onChange:e=>j({...g,scope:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,a.jsx)("option",{value:"all",children:"All Blocking"}),(0,a.jsx)("option",{value:"ads",children:"Ads Only"}),(0,a.jsx)("option",{value:"trackers",children:"Trackers Only"}),(0,a.jsx)("option",{value:"social",children:"Social Only"}),(0,a.jsx)("option",{value:"custom",children:"Custom Rules"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),(0,a.jsx)("textarea",{value:g.notes,onChange:e=>j({...g,notes:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:2,placeholder:"Additional notes about this whitelist entry"})]}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:g.enabled,onChange:e=>j({...g,enabled:e.target.checked}),className:"rounded text-green-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Enable immediately"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:g.temporary,onChange:e=>j({...g,temporary:e.target.checked}),className:"rounded text-green-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Temporary entry"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:g.isFavorite,onChange:e=>j({...g,isFavorite:e.target.checked}),className:"rounded text-green-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Mark as favorite"})]})]}),g.temporary&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires In"}),(0,a.jsxs)("select",{onChange:e=>{const t=parseInt(e.target.value);j({...g,expiresAt:Date.now()+60*t*60*1e3})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,a.jsx)("option",{value:"1",children:"1 Hour"}),(0,a.jsx)("option",{value:"4",children:"4 Hours"}),(0,a.jsx)("option",{value:"24",children:"1 Day"}),(0,a.jsx)("option",{value:"168",children:"1 Week"}),(0,a.jsx)("option",{value:"720",children:"1 Month"})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{m(!1),j({domain:"",type:"domain",reason:"",enabled:!0,temporary:!1,scope:"all",tags:[],isFavorite:!1})},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,a.jsx)("button",{onClick:async()=>{if(!g.domain)return void alert("Please provide a domain or URL");const e={id:Date.now().toString(),domain:g.domain,url:g.url,type:g.type||"domain",reason:g.reason,enabled:!1!==g.enabled,temporary:g.temporary||!1,expiresAt:g.temporary&&g.expiresAt?g.expiresAt:void 0,createdAt:Date.now(),hitCount:0,tags:g.tags||[],priority:t.length+1,isFavorite:g.isFavorite||!1,scope:g.scope||"all",notes:g.notes},s=[...t,e];await D(s),j({domain:"",type:"domain",reason:"",enabled:!0,temporary:!1,scope:"all",tags:[],isFavorite:!1}),m(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add Entry"})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:0===E.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,a.jsx)(u.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No whitelist entries found"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add sites you trust to the whitelist"})]}):E.map(e=>(0,a.jsx)("div",{className:"bg-white border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.domain}),e.isFavorite&&(0,a.jsx)($.A,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded "+("domain"===e.type?"bg-blue-100 text-blue-700":"page"===e.type?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"),children:e.type}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded "+("all"===e.scope?"bg-gray-100 text-gray-700":"ads"===e.scope?"bg-red-100 text-red-700":"trackers"===e.scope?"bg-orange-100 text-orange-700":"social"===e.scope?"bg-pink-100 text-pink-700":"bg-indigo-100 text-indigo-700"),children:e.scope}),e.temporary&&(0,a.jsxs)("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs rounded flex items-center space-x-1",children:[(0,a.jsx)(S.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Temporary"})]})]}),e.reason&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.reason}),h===e.id?(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("textarea",{value:e.notes||"",onChange:s=>(async(e,s)=>{const a=t.map(t=>t.id===e?{...t,...s}:t);await D(a),p(null)})(e.id,{notes:s.target.value}),className:"w-full px-2 py-1 border rounded text-sm",rows:2,placeholder:"Add notes..."})}):e.notes&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1 italic",children:e.notes}),(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Added: ",new Date(e.createdAt).toLocaleDateString()]}),(0,a.jsxs)("span",{children:["Hits: ",e.hitCount]}),e.lastUsed&&(0,a.jsxs)("span",{children:["Last used: ",new Date(e.lastUsed).toLocaleDateString()]}),e.temporary&&e.expiresAt&&(0,a.jsxs)("span",{className:"text-yellow-600",children:["Expires: ",new Date(e.expiresAt).toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>(async e=>{const s=t.map(t=>t.id===e?{...t,isFavorite:!t.isFavorite}:t);await D(s)})(e.id),className:"p-2 text-gray-400 hover:text-yellow-500 transition-colors",title:e.isFavorite?"Remove from favorites":"Add to favorites",children:e.isFavorite?(0,a.jsx)($.A,{className:"w-4 h-4 fill-current"}):(0,a.jsx)(W.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>p(h===e.id?null:e.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Edit notes",children:h===e.id?(0,a.jsx)(A.A,{className:"w-4 h-4"}):(0,a.jsx)(z.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>(async e=>{const t=await chrome.runtime.sendMessage({action:"testWhitelistEntry",entry:e});t?.success?alert(`Entry "${e.domain}" is working correctly!`):alert(`Entry "${e.domain}" test failed. Please check the pattern.`)})(e),className:"p-2 text-blue-400 hover:text-blue-600 transition-colors",title:"Test entry",children:(0,a.jsx)(G.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>(async e=>{const s=t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t);await D(s)})(e.id),className:"p-2 rounded-lg transition-colors "+(e.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"),title:e.enabled?"Disable":"Enable",children:e.enabled?(0,a.jsx)(B.A,{className:"w-5 h-5"}):(0,a.jsx)(U.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>(async e=>{const s=t.filter(t=>t.id!==e);await D(s)})(e.id),className:"p-2 text-red-400 hover:text-red-600 transition-colors",title:"Delete entry",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})})]})]})},e.id))}),(0,a.jsx)("div",{className:"bg-green-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.filter(e=>e.enabled).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Active"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:t.filter(e=>e.temporary).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Temporary"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(e=>e.isFavorite).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Favorites"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.reduce((e,t)=>e+t.hitCount,0)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Hits"})]})]})})]})};var J=s(6466),_=s(5799),K=s(1191);const V=[{name:"Block tracking parameters",pattern:"(utm_[a-z]+|fbclid|gclid|mc_[a-z]+)=[^&]*",description:"Remove common tracking parameters from URLs",category:"url"},{name:"Block ad domains",pattern:"^https?:\\/\\/[^/]*(doubleclick|googlesyndication|amazon-adsystem)",description:"Block common ad server domains",category:"domain"},{name:"Hide sponsored content",pattern:"sponsored|promoted|advertisement",description:"Hide elements containing sponsored content keywords",category:"content"},{name:"Block popup triggers",pattern:'onclick=".*window\\.open.*"',description:"Block elements that trigger popups",category:"element"},{name:"Remove social widgets",pattern:"(facebook|twitter|linkedin)\\.com\\/(plugins|widgets)",description:"Block social media embedded widgets",category:"url"}],Q=({currentTier:e})=>{const[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(""),[n,c]=(0,r.useState)("all"),[o,d]=(0,r.useState)(!1),[x,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(""),[u,j]=(0,r.useState)({}),[N,v]=(0,r.useState)({name:"",pattern:"",flags:"gi",description:"",category:"custom",action:"block",enabled:!0,testCases:[],tags:[]}),[k,A]=(0,r.useState)(""),[S,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{L()},[]);const L=async()=>{try{const e=await chrome.storage.local.get("regexPatterns");e.regexPatterns&&s(e.regexPatterns)}catch(e){}},P=async e=>{try{await chrome.storage.local.set({regexPatterns:e}),s(e),chrome.runtime.sendMessage({action:"regexPatternsUpdated",patterns:e})}catch(e){}},M=(e,t)=>{try{return new RegExp(e,t),A(""),!0}catch(e){return A(`Invalid regex: ${e.message}`),!1}},I=e=>{let t=0;e.includes(".*")&&(t+=2),e.includes(".+")&&(t+=2),e.includes("\\s*")&&(t+=1),e.includes("|")&&(t+=e.split("|").length),(e.includes("(?=")||e.includes("(?!"))&&(t+=3),(e.includes("(?<=")||e.includes("(?<!"))&&(t+=3),e.match(/\{[\d,]+\}/g)&&(t+=2);const s=e.match(/\([^)]*\)/g);return s&&(t+=s.length),Math.min(t,10)},q=e=>e<=3?"fast":e<=6?"medium":"slow";if(e<4)return(0,a.jsxs)("div",{className:"p-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(p.A,{className:"w-6 h-6 text-indigo-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Regex Pattern Manager"})]}),(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:"Upgrade to Tier 4 to unlock advanced regex pattern filtering for ultimate control."}),(0,a.jsx)("button",{className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",children:"Upgrade to Tier 4"})]});const O=t.filter(e=>{const t=""===l||e.name.toLowerCase().includes(l.toLowerCase())||e.pattern.toLowerCase().includes(l.toLowerCase()),s="all"===n||e.category===n;return t&&s});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(p.A,{className:"w-6 h-6 text-indigo-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Regex Pattern Manager"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:"Tier 4 Advanced"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>C(!S),className:"p-2 text-gray-600 hover:text-gray-800",title:"Regex help",children:(0,a.jsx)(J.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=async e=>{const s=e.target.files?.[0];if(!s)return;const a=new FileReader;a.onload=async e=>{try{const s=JSON.parse(e.target?.result);if(s.patterns&&Array.isArray(s.patterns)){const e=s.patterns.map(e=>({...e,id:`imported-${Date.now()}-${Math.random()}`})),a=[...t,...e];await P(a),alert(`Imported ${e.length} patterns successfully!`)}}catch(e){alert("Failed to import patterns. Please check the file format.")}},a.readAsText(s)},e.click()},className:"p-2 text-gray-600 hover:text-gray-800",title:"Import patterns",children:(0,a.jsx)(b.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>{const e={version:"1.0",timestamp:Date.now(),patterns:t},s=JSON.stringify(e,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(s),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download",`regex-patterns-${Date.now()}.json`),r.click()},className:"p-2 text-gray-600 hover:text-gray-800",title:"Export patterns",children:(0,a.jsx)(y.A,{className:"w-5 h-5"})}),(0,a.jsxs)("button",{onClick:()=>d(!0),className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Pattern"})]})]})]}),S&&(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Regex Quick Reference"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-blue-800",children:"Common Patterns:"}),(0,a.jsxs)("ul",{className:"mt-1 space-y-1 text-blue-700",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"."})," - Any character"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"*"})," - 0 or more"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"+"})," - 1 or more"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"?"})," - 0 or 1"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"[abc]"})," - Character set"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"^"})," - Start of string"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"$"})," - End of string"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-blue-800",children:"Flags:"}),(0,a.jsxs)("ul",{className:"mt-1 space-y-1 text-blue-700",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"g"})," - Global match"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"i"})," - Case insensitive"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"m"})," - Multiline"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"s"})," - Dot matches newline"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-white px-1",children:"u"})," - Unicode"]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(F.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Search patterns...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,a.jsx)("div",{className:"flex space-x-2",children:["all","url","domain","element","content","custom"].map(e=>(0,a.jsx)("button",{onClick:()=>c(e),className:"px-4 py-2 rounded-lg transition-colors "+(n===e?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-purple-900 mb-2",children:"Test Patterns"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"Enter text to test against patterns...",className:"flex-1 px-3 py-2 border rounded-lg"}),(0,a.jsxs)("button",{onClick:()=>{if(!h)return;const e={};t.forEach(t=>{t.enabled&&(e[t.id]=((e,t)=>{try{return new RegExp(e.pattern,e.flags).test(t)}catch{return!1}})(t,h))}),j(e)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(_.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Test All"})]})]}),Object.keys(u).length>0&&(0,a.jsx)("div",{className:"mt-2 text-sm",children:(0,a.jsxs)("span",{className:"text-purple-700",children:["Matches: ",Object.values(u).filter(e=>e).length," / ",Object.keys(u).length]})})]}),o&&(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create Regex Pattern"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Use a template:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:V.map((e,t)=>(0,a.jsx)("button",{onClick:()=>(e=>{v({...N,name:e.name,pattern:e.pattern,description:e.description,category:e.category,flags:"gi"})})(e),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:e.name},t))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pattern Name"}),(0,a.jsx)("input",{type:"text",value:N.name,onChange:e=>v({...N,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Block tracking pixels"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,a.jsxs)("select",{value:N.category,onChange:e=>v({...N,category:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,a.jsx)("option",{value:"url",children:"URL"}),(0,a.jsx)("option",{value:"domain",children:"Domain"}),(0,a.jsx)("option",{value:"element",children:"Element"}),(0,a.jsx)("option",{value:"content",children:"Content"}),(0,a.jsx)("option",{value:"custom",children:"Custom"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Regular Expression Pattern"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",value:N.pattern,onChange:e=>{v({...N,pattern:e.target.value}),M(e.target.value,N.flags||"gi")},className:"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono text-sm "+(k?"border-red-500":""),placeholder:"e.g., (tracking|analytics)\\\\.(js|gif|png)"}),(0,a.jsx)("input",{type:"text",value:N.flags,onChange:e=>{v({...N,flags:e.target.value}),M(N.pattern||"",e.target.value)},className:"w-20 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"gi"})]}),k&&(0,a.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,a.jsx)(K.A,{className:"w-4 h-4 mr-1"}),k]}),N.pattern&&!k&&(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[(0,a.jsxs)("span",{className:"flex items-center space-x-1 "+("fast"===q(I(N.pattern))?"text-green-600":"medium"===q(I(N.pattern))?"text-yellow-600":"text-red-600"),children:[(0,a.jsx)(f.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Performance: ",q(I(N.pattern))]})]}),(0,a.jsxs)("span",{className:"text-gray-600",children:["Complexity: ",I(N.pattern),"/10"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),(0,a.jsxs)("select",{value:N.action,onChange:e=>v({...N,action:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,a.jsx)("option",{value:"block",children:"Block"}),(0,a.jsx)("option",{value:"allow",children:"Allow"}),(0,a.jsx)("option",{value:"modify",children:"Modify"}),(0,a.jsx)("option",{value:"redirect",children:"Redirect"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("input",{type:"text",value:N.description,onChange:e=>v({...N,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"What does this pattern do?"})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:N.enabled,onChange:e=>v({...N,enabled:e.target.checked}),className:"rounded text-indigo-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Enable immediately"})]})}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{d(!1),v({name:"",pattern:"",flags:"gi",description:"",category:"custom",action:"block",enabled:!0,testCases:[],tags:[]}),A("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,a.jsx)("button",{onClick:async()=>{if(!N.name||!N.pattern)return void alert("Please provide a name and pattern");if(!M(N.pattern,N.flags||"gi"))return;const e=I(N.pattern),s={id:Date.now().toString(),name:N.name,pattern:N.pattern,flags:N.flags||"gi",description:N.description,category:N.category||"custom",action:N.action||"block",enabled:!1!==N.enabled,testCases:N.testCases||[],matchCount:0,createdAt:Date.now(),priority:t.length+1,performance:q(e),complexity:e,tags:N.tags||[]},a=[...t,s];await P(a),v({name:"",pattern:"",flags:"gi",description:"",category:"custom",action:"block",enabled:!0,testCases:[],tags:[]}),d(!1),A("")},disabled:!!k||!N.name||!N.pattern,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Pattern"})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:0===O.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,a.jsx)(p.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No regex patterns found"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Create powerful patterns for advanced filtering"})]}):O.map(e=>(0,a.jsx)("div",{className:"bg-white border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded "+("url"===e.category?"bg-blue-100 text-blue-700":"domain"===e.category?"bg-green-100 text-green-700":"element"===e.category?"bg-purple-100 text-purple-700":"content"===e.category?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:e.category}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded "+("block"===e.action?"bg-red-100 text-red-700":"allow"===e.action?"bg-green-100 text-green-700":"modify"===e.action?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"),children:e.action}),(0,a.jsxs)("span",{className:"px-2 py-0.5 text-xs rounded flex items-center space-x-1 "+("fast"===e.performance?"bg-green-100 text-green-700":"medium"===e.performance?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:[(0,a.jsx)(f.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.performance})]}),!0===u[e.id]&&(0,a.jsx)(D.A,{className:"w-4 h-4 text-green-500"}),!1===u[e.id]&&(0,a.jsx)(E.A,{className:"w-4 h-4 text-gray-400"})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,a.jsx)("div",{className:"mt-2 bg-gray-50 rounded p-2",children:(0,a.jsxs)("code",{className:"text-xs text-gray-700 font-mono break-all",children:["/",e.pattern,"/",e.flags]})}),(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Matches: ",e.matchCount]}),(0,a.jsxs)("span",{children:["Complexity: ",e.complexity,"/10"]}),(0,a.jsxs)("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]}),e.lastMatched&&(0,a.jsxs)("span",{children:["Last match: ",new Date(e.lastMatched).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.pattern),alert("Pattern copied to clipboard!")},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Copy pattern",children:(0,a.jsx)(R.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>(async e=>{const s=t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t);await P(s)})(e.id),className:"p-2 rounded-lg transition-colors "+(e.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"),title:e.enabled?"Disable":"Enable",children:e.enabled?(0,a.jsx)(B.A,{className:"w-5 h-5"}):(0,a.jsx)(U.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>(async e=>{const s=t.filter(t=>t.id!==e);await P(s)})(e.id),className:"p-2 text-red-400 hover:text-red-600 transition-colors",title:"Delete pattern",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})})]})]})},e.id))}),(0,a.jsx)("div",{className:"bg-indigo-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:t.filter(e=>e.enabled).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Active"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.filter(e=>"fast"===e.performance).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Fast"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.reduce((e,t)=>e+t.matchCount,0)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(t.reduce((e,t)=>e+t.complexity,0)/Math.max(t.length,1))}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Complexity"})]})]})})]})};var Z=s(8277),X=s(928),Y=s(1500),ee=s(4046),te=s(9157);const se=()=>{const[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[i,n]=(0,r.useState)({totalScripts:0,blockedScripts:0,allowedScripts:0,savedBandwidth:0,performanceGain:0}),[c,o]=(0,r.useState)("rules"),[x,m]=(0,r.useState)({domain:"",scriptType:"all",action:"block",pattern:"",enabled:!0}),[h,g]=(0,r.useState)(!0),[y,b]=(0,r.useState)("");(0,r.useEffect)(()=>{j(),v()},[]);const j=async()=>{g(!0);try{const e=await chrome.storage.local.get(["scriptRules","scriptStats"]);e.scriptRules&&t(e.scriptRules),e.scriptStats&&n(e.scriptStats),await w()}catch(e){}g(!1)},v=async()=>{try{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});if(e?.url){const t=new URL(e.url);b(t.hostname),m(e=>({...e,domain:t.hostname}))}}catch(e){}},w=async()=>{try{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});if(e?.id){const t=await chrome.tabs.sendMessage(e.id,{action:"getDetectedScripts"});t?.scripts&&l(t.scripts)}}catch(e){}},k=async e=>{try{await chrome.storage.local.set({scriptRules:e}),t(e)}catch(e){}},A=t=>{((t,s)=>{const a=e.map(e=>e.id===t?{...e,...s,lastModified:Date.now()}:e);k(a)})(t,{enabled:!e.find(e=>e.id===t)?.enabled})},S=e=>{switch(e){case"analytics":return(0,a.jsx)(f.A,{className:"w-4 h-4 text-yellow-500"});case"advertising":return(0,a.jsx)(Z.A,{className:"w-4 h-4 text-red-500"});case"social":return(0,a.jsx)(d.A,{className:"w-4 h-4 text-blue-500"});case"functional":return(0,a.jsx)(D.A,{className:"w-4 h-4 text-green-500"});default:return(0,a.jsx)(p.A,{className:"w-4 h-4 text-gray-500"})}},C=e=>{switch(e){case"block":return(0,a.jsx)(N.A,{className:"w-4 h-4 text-red-500"});case"allow":return(0,a.jsx)(X.A,{className:"w-4 h-4 text-green-500"});case"delay":return(0,a.jsx)(Y.A,{className:"w-4 h-4 text-yellow-500"});default:return(0,a.jsx)(u.A,{className:"w-4 h-4 text-gray-500"})}};return h?(0,a.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,a.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading Script Control Panel..."})]}):(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(p.A,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Advanced Script Control"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded",children:"TIER 4"})]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Granular control over JavaScript execution on websites"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:"Total Scripts"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:i.totalScripts})]}),(0,a.jsx)(p.A,{className:"w-8 h-8 text-blue-500"})]})}),(0,a.jsx)("div",{className:"bg-red-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-red-600 font-medium",children:"Blocked"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-900",children:i.blockedScripts})]}),(0,a.jsx)(N.A,{className:"w-8 h-8 text-red-500"})]})}),(0,a.jsx)("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-green-600 font-medium",children:"Allowed"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-900",children:i.allowedScripts})]}),(0,a.jsx)(X.A,{className:"w-8 h-8 text-green-500"})]})}),(0,a.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-purple-600 font-medium",children:"Bandwidth Saved"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-900",children:[(i.savedBandwidth/1024).toFixed(1),"KB"]})]}),(0,a.jsx)(f.A,{className:"w-8 h-8 text-purple-500"})]})})]}),(0,a.jsx)("div",{className:"flex border-b border-gray-200 mb-6",children:["rules","detected","stats"].map(e=>(0,a.jsx)("button",{onClick:()=>o(e),className:"px-4 py-2 font-medium text-sm capitalize "+(c===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:e},e))}),"rules"===c&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New Rule"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Domain (e.g., example.com)",value:x.domain,onChange:e=>m(t=>({...t,domain:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsxs)("select",{value:x.scriptType,onChange:e=>m(t=>({...t,scriptType:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Scripts"}),(0,a.jsx)("option",{value:"analytics",children:"Analytics"}),(0,a.jsx)("option",{value:"advertising",children:"Advertising"}),(0,a.jsx)("option",{value:"social",children:"Social Media"}),(0,a.jsx)("option",{value:"functional",children:"Functional"}),(0,a.jsx)("option",{value:"custom",children:"Custom Pattern"})]}),(0,a.jsxs)("select",{value:x.action,onChange:e=>m(t=>({...t,action:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"block",children:"Block"}),(0,a.jsx)("option",{value:"allow",children:"Allow"}),(0,a.jsx)("option",{value:"delay",children:"Delay (3s)"})]}),(0,a.jsx)("input",{type:"text",placeholder:"Pattern (optional)",value:x.pattern,onChange:e=>m(t=>({...t,pattern:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{onClick:()=>{if(!x.domain)return;const t={id:`rule_${Date.now()}`,domain:x.domain,scriptType:x.scriptType,action:x.action,pattern:x.pattern,enabled:!0,createdAt:Date.now(),lastModified:Date.now()},s=[...e,t];k(s),m({domain:y,scriptType:"all",action:"block",pattern:"",enabled:!0})},disabled:!x.domain,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Add Rule"})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:0===e.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(p.A,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,a.jsx)("p",{children:"No script control rules configured"}),(0,a.jsx)("p",{className:"text-sm",children:"Create your first rule above"})]}):e.map(t=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>A(t.id),className:"p-2 rounded "+(t.enabled?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"),children:t.enabled?(0,a.jsx)(ee.A,{className:"w-4 h-4"}):(0,a.jsx)(Y.A,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[S(t.scriptType),(0,a.jsx)("span",{className:"font-medium",children:t.domain}),C(t.action),(0,a.jsx)("span",{className:"text-sm text-gray-600 capitalize",children:t.action})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{className:"capitalize",children:t.scriptType}),t.pattern&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsx)("span",{className:"font-mono bg-gray-100 px-1 rounded",children:t.pattern})]})]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("button",{onClick:()=>(t=>{const s=e.filter(e=>e.id!==t);k(s)})(t.id),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:(0,a.jsx)(Z.A,{className:"w-4 h-4"})})})]},t.id))})]}),"detected"===c&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Detected Scripts on Current Page"}),(0,a.jsxs)("button",{onClick:()=>{w()},className:"flex items-center gap-2 px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:[(0,a.jsx)(te.A,{className:"w-4 h-4"}),"Refresh"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:["Current domain: ",(0,a.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:y})]}),(0,a.jsx)("div",{className:"space-y-2",children:0===s.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(K.A,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,a.jsx)("p",{children:"No scripts detected on current page"}),(0,a.jsx)("p",{className:"text-sm",children:"Navigate to a website to see detected scripts"})]}):s.map((t,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[S(t.category),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:t.domain}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs "+(t.blocked?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:t.blocked?"Blocked":"Allowed"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:t.category})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1 font-mono truncate max-w-md",children:t.url}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Size: ",(t.size/1024).toFixed(1),"KB â€¢ Type: ",t.type]})]})]}),!t.blocked&&(0,a.jsx)("button",{onClick:()=>(t=>{const s={id:`quick_${Date.now()}`,domain:t.domain,scriptType:"unknown"===t.category?"custom":t.category,action:"block",pattern:t.url,enabled:!0,createdAt:Date.now(),lastModified:Date.now()},a=[...e,s];k(a)})(t),className:"px-3 py-1 bg-red-100 text-red-700 text-sm rounded hover:bg-red-200",children:"Quick Block"})]},s))})]}),"stats"===c&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Performance Impact"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Page Load Improvement:"}),(0,a.jsxs)("span",{className:"font-bold text-green-600",children:["+",i.performanceGain,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Bandwidth Saved:"}),(0,a.jsxs)("span",{className:"font-bold",children:[(i.savedBandwidth/1024).toFixed(1),"KB"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Scripts Blocked:"}),(0,a.jsx)("span",{className:"font-bold text-red-600",children:i.blockedScripts})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Security Benefits"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)("span",{children:"Malicious scripts blocked"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)("span",{children:"Tracking prevention active"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)("span",{children:"Fingerprinting protection"})]})]})]})]}),(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(K.A,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-yellow-800",children:"Script Control Guidelines"}),(0,a.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:["â€¢ Blocking all scripts may break website functionality",(0,a.jsx)("br",{}),"â€¢ Start with blocking advertising and analytics scripts",(0,a.jsx)("br",{}),'â€¢ Use "Allow" for essential functional scripts',(0,a.jsx)("br",{}),'â€¢ "Delay" option improves page load while keeping functionality']})]})]})})]})]})};var ae=s(9176);const re=()=>{const[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)({totalRequests:0,blockedRequests:0,allowedRequests:0,totalSize:0,savedBandwidth:0,averageResponseTime:0,secureRequests:0,insecureRequests:0}),[i,n]=(0,r.useState)({method:[],status:[],category:[],blocked:"all",domain:"",search:""}),[x,m]=(0,r.useState)(!0),[h,p]=(0,r.useState)(null),[u,b]=(0,r.useState)(!1),[j,f]=(0,r.useState)(!0),w=(0,r.useRef)(null);(0,r.useEffect)(()=>(k(),()=>{chrome}),[]),(0,r.useEffect)(()=>{j&&w.current&&w.current.scrollIntoView({behavior:"smooth"})},[e,j]);const k=async()=>{try{const e=await chrome.storage.local.get(["networkRequests","networkStats"]);e.networkRequests&&t(e.networkRequests.slice(-1e3)),e.networkStats&&l(e.networkStats),x&&A()}catch(e){}},A=()=>{chrome.runtime.onMessage.addListener((e,t,s)=>{"networkRequest"===e.type&&R(e.request)}),chrome.runtime.sendMessage({action:"startNetworkMonitoring"})},R=e=>{const s={...e,id:`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};t(e=>{const t=[...e,s].slice(-1e3);return E(t),t}),L(s)},L=e=>{l(t=>{const s={totalRequests:t.totalRequests+1,blockedRequests:t.blockedRequests+(e.blocked?1:0),allowedRequests:t.allowedRequests+(e.blocked?0:1),totalSize:t.totalSize+e.size,savedBandwidth:t.savedBandwidth+(e.blocked?e.size:0),averageResponseTime:(t.averageResponseTime*t.totalRequests+e.duration)/(t.totalRequests+1),secureRequests:t.secureRequests+("secure"===e.securityState?1:0),insecureRequests:t.insecureRequests+("insecure"===e.securityState?1:0)};return chrome.storage.local.set({networkStats:s}),s})},E=async e=>{try{await chrome.storage.local.set({networkRequests:e})}catch(e){}},P=e=>{switch(e){case"document":return(0,a.jsx)(d.A,{className:"w-4 h-4 text-blue-500"});case"stylesheet":return(0,a.jsx)(v.A,{className:"w-4 h-4 text-purple-500"});case"script":return(0,a.jsx)(g.A,{className:"w-4 h-4 text-yellow-500"});case"image":return(0,a.jsx)(C.A,{className:"w-4 h-4 text-green-500"});default:return(0,a.jsx)(g.A,{className:"w-4 h-4 text-gray-500"})}},B=e=>{switch(e){case"secure":return(0,a.jsx)(o.A,{className:"w-4 h-4 text-green-500"});case"insecure":return(0,a.jsx)(ae.A,{className:"w-4 h-4 text-red-500"});default:return(0,a.jsx)(K.A,{className:"w-4 h-4 text-yellow-500"})}},U=e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(1))+" "+["B","KB","MB","GB"][t]},M=e=>e<1e3?`${e}ms`:`${(e/1e3).toFixed(1)}s`,I=e.filter(e=>{if("all"!==i.blocked){if("blocked"===i.blocked&&!e.blocked)return!1;if("allowed"===i.blocked&&e.blocked)return!1}return!(i.method.length>0&&!i.method.includes(e.method))&&(!(i.category.length>0&&!i.category.includes(e.category))&&(!(i.domain&&!e.domain.toLowerCase().includes(i.domain.toLowerCase()))&&!(i.search&&!e.url.toLowerCase().includes(i.search.toLowerCase()))))});return(0,a.jsxs)("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g.A,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Network Request Logger"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded",children:"TIER 4"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>f(!j),className:"px-3 py-2 rounded text-sm "+(j?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:"Auto Scroll"}),(0,a.jsxs)("button",{onClick:()=>b(!u),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),"Filters"]}),(0,a.jsxs)("button",{onClick:()=>{const t=JSON.stringify(e,null,2),s=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download=`network-logs-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)},className:"flex items-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),"Export"]}),(0,a.jsxs)("button",{onClick:()=>{t([]),l({totalRequests:0,blockedRequests:0,allowedRequests:0,totalSize:0,savedBandwidth:0,averageResponseTime:0,secureRequests:0,insecureRequests:0}),chrome.storage.local.remove(["networkRequests","networkStats"])},className:"flex items-center gap-2 px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200",children:[(0,a.jsx)(T.A,{className:"w-4 h-4"}),"Clear"]}),(0,a.jsx)("button",{onClick:()=>{const e=!x;m(e),e?A():chrome.runtime.sendMessage({action:"stopNetworkMonitoring"})},className:"flex items-center gap-2 px-4 py-2 rounded font-medium "+(x?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"),children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.A,{className:"w-4 h-4"}),"Stop"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),"Start"]})})]})]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Real-time monitoring of network requests with detailed analytics"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:"Total Requests"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:s.totalRequests})]}),(0,a.jsx)(g.A,{className:"w-8 h-8 text-blue-500"})]})}),(0,a.jsx)("div",{className:"bg-red-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-red-600 font-medium",children:"Blocked"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-900",children:s.blockedRequests})]}),(0,a.jsx)(N.A,{className:"w-8 h-8 text-red-500"})]})}),(0,a.jsx)("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-green-600 font-medium",children:"Data Saved"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-900",children:U(s.savedBandwidth)})]}),(0,a.jsx)(y.A,{className:"w-8 h-8 text-green-500"})]})}),(0,a.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-purple-600 font-medium",children:"Avg Response"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:M(s.averageResponseTime)})]}),(0,a.jsx)(S.A,{className:"w-8 h-8 text-purple-500"})]})})]}),u&&(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status Filter"}),(0,a.jsxs)("select",{value:i.blocked,onChange:e=>n(t=>({...t,blocked:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Requests"}),(0,a.jsx)("option",{value:"blocked",children:"Blocked Only"}),(0,a.jsx)("option",{value:"allowed",children:"Allowed Only"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Domain"}),(0,a.jsx)("input",{type:"text",placeholder:"Filter by domain",value:i.domain,onChange:e=>n(t=>({...t,domain:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search URL"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(F.A,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search in URLs",value:i.search,onChange:e=>n(t=>({...t,search:e.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"URL"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Security"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===I.length?(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:[(0,a.jsx)(g.A,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,a.jsx)("p",{children:"No network requests recorded"}),(0,a.jsx)("p",{className:"text-sm",children:x?"Navigate to a website to see requests":"Click Start to begin recording"})]})}):I.map(e=>{return(0,a.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer "+(e.blocked?"bg-red-50":""),onClick:()=>p(e),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(t=e.status,null===t?(0,a.jsx)(Z.A,{className:"w-4 h-4 text-gray-400"}):t>=200&&t<300?(0,a.jsx)(D.A,{className:"w-4 h-4 text-green-500"}):t>=300&&t<400?(0,a.jsx)(K.A,{className:"w-4 h-4 text-yellow-500"}):(0,a.jsx)(Z.A,{className:"w-4 h-4 text-red-500"})),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium "+(e.blocked?"bg-red-100 text-red-800":e.status&&e.status>=200&&e.status<300?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.blocked?"BLOCKED":e.status||"PENDING"})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[P(e.category),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.method})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"max-w-md",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.domain}),(0,a.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.url})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U(e.size)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:M(e.duration)}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[B(e.securityState),(0,a.jsx)("span",{className:"text-xs capitalize",children:e.securityState})]})})]},e.id);var t})})]})}),(0,a.jsx)("div",{ref:w})]}),h&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-96 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Request Details"}),(0,a.jsx)("button",{onClick:()=>p(null),className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(Z.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"URL"}),(0,a.jsx)("p",{className:"text-sm font-mono bg-gray-100 p-2 rounded break-all",children:h.url})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Method"}),(0,a.jsx)("p",{className:"text-sm",children:h.method})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsx)("p",{className:"text-sm",children:h.status||"Pending"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),(0,a.jsx)("p",{className:"text-sm",children:U(h.size)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Duration"}),(0,a.jsx)("p",{className:"text-sm",children:M(h.duration)})]})]}),h.blocked&&h.reason&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Block Reason"}),(0,a.jsx)("p",{className:"text-sm text-red-600",children:h.reason})]})]})]})})]})},le={enabled:!0,whitelist:[],pausedDomains:[],tier:{level:1,name:"Basic",unlockedAt:Date.now(),progress:0},notifications:!0,showBadge:!0,autoUpdate:!0,developerMode:!1},ie={totalBlocked:0,blockedToday:0,blockedThisWeek:0,blockedThisMonth:0,lastReset:Date.now(),domainStats:{},categoryStats:{ads:0,trackers:0,malware:0,social:0,youtube:0,other:0}};class ne{static instance;constructor(){}static getInstance(){return ne.instance||(ne.instance=new ne),ne.instance}async getSettings(){try{return(await chrome.storage.local.get("settings")).settings||le}catch(e){return le}}async setSettings(e){try{const t={...await this.getSettings(),...e};await chrome.storage.local.set({settings:t})}catch(e){}}async updateSettings(e){return this.setSettings(e)}async getStats(){try{return(await chrome.storage.local.get("stats")).stats||ie}catch(e){return ie}}async updateStats(e){try{const t={...await this.getStats(),...e};await chrome.storage.local.set({stats:t})}catch(e){}}async incrementBlockedCount(e,t="ads"){try{const s=await this.getStats(),a=(new Date).setHours(0,0,0,0);s.lastReset<a&&(s.blockedToday=0,s.lastReset=a),s.totalBlocked++,s.blockedToday++,s.domainStats[e]=(s.domainStats[e]||0)+1,s.categoryStats[t]++,await this.updateStats(s)}catch(e){}}async addToWhitelist(e){try{const t=await this.getSettings();t.whitelist.includes(e)||(t.whitelist.push(e),await this.setSettings({whitelist:t.whitelist}))}catch(e){}}async removeFromWhitelist(e){try{const t=await this.getSettings();t.whitelist=t.whitelist.filter(t=>t!==e),await this.setSettings({whitelist:t.whitelist})}catch(e){}}async isWhitelisted(e){try{return(await this.getSettings()).whitelist.some(t=>e===t||e.endsWith(`.${t}`))}catch(e){return!1}}async toggleExtension(){try{const e=!(await this.getSettings()).enabled;return await this.setSettings({enabled:e}),e}catch(e){return!0}}async clearStats(){try{await chrome.storage.local.set({stats:ie})}catch(e){}}}ne.getInstance();function ce(){const[e,t]=(0,r.useState)({enabled:!0,showBadge:!0,notifications:!0,autoUpdate:!0}),[s,l]=(0,r.useState)(1);(0,r.useEffect)(()=>{i()},[]);const i=async()=>{const e=ne.getInstance(),s=await e.getSettings();l(s.tier?.level||1),t({enabled:s.enabled??!0,showBadge:s.showBadge??!0,notifications:s.notifications??!0,autoUpdate:s.autoUpdate??!0})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"General Settings"}),(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(e).map(([s,r])=>(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Configure ",s.replace(/([A-Z])/g," $1").toLowerCase().trim()," settings"]})]}),(0,a.jsx)("input",{type:"checkbox",checked:r,onChange:a=>(async e=>{t(e);const s=ne.getInstance();await s.updateSettings(e)})({...e,[s]:a.target.checked}),className:"h-5 w-5 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]},s))}),s>=3&&(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Backup & Restore"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("button",{onClick:async()=>{const e=ne.getInstance(),t={settings:await e.getSettings(),customFilters:await chrome.storage.local.get("customFilters"),whitelist:await chrome.storage.local.get("whitelist"),stats:await chrome.storage.local.get("stats"),version:"1.0.0",exportDate:(new Date).toISOString()},s=JSON.stringify(t,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(s),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download",`shieldpro-settings-${Date.now()}.json`),r.click()},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Export Settings"})]}),(0,a.jsxs)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=async e=>{const t=e.target.files?.[0];if(!t)return;const s=new FileReader;s.onload=async e=>{try{const t=JSON.parse(e.target?.result);if(t.settings){const e=ne.getInstance();await e.updateSettings(t.settings)}t.customFilters&&await chrome.storage.local.set({customFilters:t.customFilters.customFilters}),t.whitelist&&await chrome.storage.local.set({whitelist:t.whitelist.whitelist}),alert("Settings imported successfully! Reloading extension..."),chrome.runtime.reload()}catch(e){alert("Failed to import settings. Please check the file format.")}},s.readAsText(t)},e.click()},className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,a.jsx)(b.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Import Settings"})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Tier 3 Feature: Export and import all your settings, custom filters, and whitelist"})]})]})}function oe(){const[e,t]=(0,r.useState)(1);(0,r.useEffect)(()=>{s()},[]);const s=async()=>{const e=ne.getInstance(),s=await e.getSettings();t(s.tier?.level||1)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Filter Settings"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure ad blocking filters and rules"}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Active Filters"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-center text-sm text-blue-700 dark:text-blue-400",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Tier 1: Basic Ad Blocking (50+ rules)"]}),e>=2&&(0,a.jsxs)("li",{className:"flex items-center text-sm text-blue-700 dark:text-blue-400",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Tier 2: Advanced Trackers (40+ rules)"]}),e>=3&&(0,a.jsxs)("li",{className:"flex items-center text-sm text-blue-700 dark:text-blue-400",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Tier 3: Professional Filters (100+ rules)"]})]})]})}),(0,a.jsx)(L,{currentTier:e})]})}function de(){const[e,t]=(0,r.useState)(1),[s,l]=(0,r.useState)({trackingProtection:!0,socialMediaBlocking:!0,sessionRecordingPrevention:!0,canvasFingerprinting:!1,webrtcLeakProtection:!1,audioFingerprinting:!1,fontFingerprinting:!1,dnsOverHttps:!1});(0,r.useEffect)(()=>{i()},[]);const i=async()=>{const e=ne.getInstance(),s=await e.getSettings();t(s.tier?.level||1);const a=await chrome.storage.local.get(["privacySettings"]);a.privacySettings&&l(e=>({...e,...a.privacySettings}))},n=async(e,t)=>{const a={...s,[e]:t};l(a),await chrome.storage.local.set({privacySettings:a})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Privacy Settings"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your privacy and tracking protection"}),e>=2&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Enhanced Protection"}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Advanced Tracking Protection"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Block 40+ tracking networks"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.trackingProtection,onChange:e=>n("trackingProtection",e.target.checked),className:"h-5 w-5 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Social Media Blocking"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Block social media widgets and trackers"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.socialMediaBlocking,onChange:e=>n("socialMediaBlocking",e.target.checked),className:"h-5 w-5 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Session Recording Prevention"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Block Hotjar, FullStory, and similar services"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.sessionRecordingPrevention,onChange:e=>n("sessionRecordingPrevention",e.target.checked),className:"h-5 w-5 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]}),e>=4&&(0,a.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Ultimate Privacy Protection"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded",children:"TIER 4"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Canvas Fingerprinting Protection"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Inject noise to prevent canvas-based tracking"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.canvasFingerprinting,onChange:e=>n("canvasFingerprinting",e.target.checked),className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"WebRTC Leak Protection"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Prevent IP address leaks through WebRTC"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.webrtcLeakProtection,onChange:e=>n("webrtcLeakProtection",e.target.checked),className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Audio Fingerprinting Protection"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Randomize audio context to prevent fingerprinting"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.audioFingerprinting,onChange:e=>n("audioFingerprinting",e.target.checked),className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Font Fingerprinting Protection"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Spoof font metrics to prevent identification"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.fontFingerprinting,onChange:e=>n("fontFingerprinting",e.target.checked),className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"DNS-over-HTTPS"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Secure DNS queries through encrypted HTTPS"})]}),(0,a.jsx)("input",{type:"checkbox",checked:s.dnsOverHttps,onChange:e=>n("dnsOverHttps",e.target.checked),className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]})]})]})}function xe(){const[e,t]=(0,r.useState)(1);(0,r.useEffect)(()=>{s()},[]);const s=async()=>{const e=ne.getInstance(),s=await e.getSettings();t(s.tier?.level||1)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Whitelist Management"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage websites where ads are allowed"}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Basic Whitelist"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Add websites where you want to allow ads (supports all tiers)"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Enter domain (e.g., example.com)",className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-600"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Add to Whitelist"})]})]}),(0,a.jsx)(P,{currentTier:e})]})}function me(){return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Tier Progress"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your tier progress and unlock new features"})]})}function he(){const[e,t]=(0,r.useState)({malwareBlocking:!0,phishingProtection:!0,cryptominingPrevention:!0,threatNotifications:!0,securityLogging:!1,advancedThreatDetection:!0,automaticThreatReporting:!1}),[s,l]=(0,r.useState)({totalThreats:0,malwareBlocked:0,phishingBlocked:0,cryptominingBlocked:0,lastThreatDetected:null});(0,r.useEffect)(()=>{i(),n()},[]);const i=async()=>{const e=await chrome.storage.local.get(["securitySettings"]);e.securitySettings&&t(t=>({...t,...e.securitySettings}))},n=async()=>{const e=await chrome.storage.local.get(["threatStats"]);e.threatStats&&l(e.threatStats)},c=async(s,a)=>{const r={...e,[s]:a};t(r),await chrome.storage.local.set({securitySettings:r})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Security Center"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded",children:"TIER 4"})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Advanced security features to protect against malware, phishing, and other threats"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-red-600 font-medium",children:"Total Threats"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-900",children:s.totalThreats})]}),(0,a.jsx)(u.A,{className:"w-8 h-8 text-red-500"})]})}),(0,a.jsx)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-orange-600 font-medium",children:"Malware Blocked"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:s.malwareBlocked})]}),(0,a.jsx)(N.A,{className:"w-8 h-8 text-orange-500"})]})}),(0,a.jsx)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-yellow-600 font-medium",children:"Phishing Blocked"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-900",children:s.phishingBlocked})]}),(0,a.jsx)(o.A,{className:"w-8 h-8 text-yellow-500"})]})}),(0,a.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-purple-600 font-medium",children:"Cryptomining"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:s.cryptominingBlocked})]}),(0,a.jsx)(f.A,{className:"w-8 h-8 text-purple-500"})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Threat Protection"}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Malware Blocking"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Block known malicious domains and files"})]}),(0,a.jsx)("input",{type:"checkbox",checked:e.malwareBlocking,onChange:e=>c("malwareBlocking",e.target.checked),className:"h-5 w-5 text-red-600 focus:ring-red-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Phishing Protection"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Detect and block phishing attempts"})]}),(0,a.jsx)("input",{type:"checkbox",checked:e.phishingProtection,onChange:e=>c("phishingProtection",e.target.checked),className:"h-5 w-5 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Cryptomining Prevention"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Block cryptocurrency mining scripts"})]}),(0,a.jsx)("input",{type:"checkbox",checked:e.cryptominingPrevention,onChange:e=>c("cryptominingPrevention",e.target.checked),className:"h-5 w-5 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Advanced Threat Detection"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Use heuristic analysis for unknown threats"})]}),(0,a.jsx)("input",{type:"checkbox",checked:e.advancedThreatDetection,onChange:e=>c("advancedThreatDetection",e.target.checked),className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]}),(0,a.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Notifications & Logging"}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Threat Notifications"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Show notifications when threats are detected"})]}),(0,a.jsx)("input",{type:"checkbox",checked:e.threatNotifications,onChange:e=>c("threatNotifications",e.target.checked),className:"h-5 w-5 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Security Logging"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Keep detailed logs of security events"})]}),(0,a.jsx)("input",{type:"checkbox",checked:e.securityLogging,onChange:e=>c("securityLogging",e.target.checked),className:"h-5 w-5 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Automatic Threat Reporting"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Anonymously report new threats to improve protection"})]}),(0,a.jsx)("input",{type:"checkbox",checked:e.automaticThreatReporting,onChange:e=>c("automaticThreatReporting",e.target.checked),className:"h-5 w-5 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Security Actions"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage security logs and data"})]}),(0,a.jsx)("div",{className:"flex gap-3",children:(0,a.jsx)("button",{onClick:async()=>{confirm("Are you sure you want to clear all threat logs?")&&(await chrome.storage.local.remove(["threatLogs"]),l({totalThreats:0,malwareBlocked:0,phishingBlocked:0,cryptominingBlocked:0,lastThreatDetected:null}),await chrome.storage.local.set({threatStats:{totalThreats:0,malwareBlocked:0,phishingBlocked:0,cryptominingBlocked:0,lastThreatDetected:null}}))},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear Threat Logs"})})]}),s.lastThreatDetected&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-yellow-800",children:["Last threat detected: ",new Date(s.lastThreatDetected).toLocaleString()]})})]})]})}const pe=function(){const[e,t]=(0,r.useState)("general"),[s,l]=(0,r.useState)(1);(0,r.useEffect)(()=>{i()},[]);const i=async()=>{const e=ne.getInstance(),t=await e.getSettings();l(t.tier?.level||1)},y=[{id:"general",label:"General",icon:n.A},{id:"filters",label:"Filters",icon:c.A},{id:"privacy",label:"Privacy",icon:o.A},{id:"whitelist",label:"Whitelist",icon:d.A},{id:"tiers",label:"Tiers",icon:x.A},...s>=3?[{id:"custom-filters",label:"Custom Filters",icon:c.A}]:[],...s>=4?[{id:"filter-lists",label:"Filter Lists",icon:m.A},{id:"whitelist-manager",label:"Whitelist Manager",icon:h.A},{id:"regex-patterns",label:"Regex Patterns",icon:p.A},{id:"scripts",label:"Script Control",icon:p.A},{id:"network",label:"Network Logger",icon:g.A},{id:"security",label:"Security",icon:u.A}]:[]];return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-8",children:[(0,a.jsx)(u.A,{className:"w-10 h-10 text-primary-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"ShieldPro Ultimate"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Advanced Ad Blocker Settings"})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:y.map(s=>{const r=s.icon;return(0,a.jsxs)("button",{onClick:()=>t(s.id),className:`\n                      flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors\n                      ${e===s.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}\n                    `,children:[(0,a.jsx)(r,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:s.label})]},s.id)})})}),(0,a.jsxs)("div",{className:"p-6",children:["general"===e&&(0,a.jsx)(ce,{}),"filters"===e&&(0,a.jsx)(oe,{}),"privacy"===e&&(0,a.jsx)(de,{}),"whitelist"===e&&(0,a.jsx)(xe,{}),"tiers"===e&&(0,a.jsx)(me,{}),"custom-filters"===e&&s>=3&&(0,a.jsx)(L,{currentTier:s}),"filter-lists"===e&&s>=4&&(0,a.jsx)(O,{currentTier:s}),"whitelist-manager"===e&&s>=4&&(0,a.jsx)(H,{currentTier:s}),"regex-patterns"===e&&s>=4&&(0,a.jsx)(Q,{currentTier:s}),"scripts"===e&&s>=4&&(0,a.jsx)(se,{}),"network"===e&&s>=4&&(0,a.jsx)(re,{}),"security"===e&&s>=4&&(0,a.jsx)(he,{})]})]})]})})};i.createRoot(document.getElementById("root")).render((0,a.jsx)(l().StrictMode,{children:(0,a.jsx)(pe,{})}))}},s={};function a(e){var r=s[e];if(void 0!==r)return r.exports;var l=s[e]={id:e,loaded:!1,exports:{}};return t[e](l,l.exports,a),l.loaded=!0,l.exports}a.m=t,e=[],a.O=(t,s,r,l)=>{if(!s){var i=1/0;for(d=0;d<e.length;d++){for(var[s,r,l]=e[d],n=!0,c=0;c<s.length;c++)(!1&l||i>=l)&&Object.keys(a.O).every(e=>a.O[e](s[c]))?s.splice(c--,1):(n=!1,l<i&&(i=l));if(n){e.splice(d--,1);var o=r();void 0!==o&&(t=o)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,r,l]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.j=575,(()=>{var e={575:0,51:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var r,l,[i,n,c]=s,o=0;if(i.some(t=>0!==e[t])){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(c)var d=c(a)}for(t&&t(s);o<i.length;o++)l=i[o],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},s=self.webpackChunkshieldpro_ultimate=self.webpackChunkshieldpro_ultimate||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var r=a.O(void 0,[121,51],()=>a(9320));r=a.O(r)})();
//# sourceMappingURL=options.js.map