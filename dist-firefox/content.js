(()=>{"use strict";(()=>{const n=['[id*="google_ads"]','[id*="google-ads"]','[class*="google-ads"]','[id*="banner_ad"]','[class*="banner_ad"]','[class*="ad-container"]','[class*="ad-wrapper"]','[class*="advertisement"]',"[data-ad]","[data-ads]","[data-ad-slot]","ins.adsbygoogle",'iframe[src*="doubleclick.net"]','iframe[src*="googlesyndication.com"]','div[id^="div-gpt-ad"]','div[class*="sponsored"]',".ad",".ads",".advert",".advertisement"];let e=null,o=new Set,t=!0,a=!1,i=1,c=!1;async function d(){try{const n=await chrome.runtime.sendMessage({action:"getSettings"});t=n?.enabled??!0,i=n?.tier?.level||1;const d=await chrome.runtime.sendMessage({action:"getTabState"});a=d?.whitelisted??!1,!t||a?function(){e&&(e.disconnect(),e=null);o.forEach(n=>{n.style.display=""}),o.clear()}():(s(),function(){if(!t||a)return;const n=window.open;window.open=function(...e){const o=e[0]?.toString()||"";return o&&(o.includes("doubleclick")||o.includes("googleads")||"about:blank"===o||o.includes("popup"))?null:n.apply(this,e)}}(),l(),r(),e||(e=new MutationObserver(()=>{s(),l(),r()}),e.observe(document.body,{childList:!0,subtree:!0})),i>=2&&window.location.hostname.includes("youtube.com")&&!c&&(c=!0))}catch(n){}}function s(){t&&!a&&n.forEach(n=>{try{document.querySelectorAll(n).forEach(n=>{o.has(n)||(n.style.display="none",o.add(n))})}catch(n){}})}function l(){if(!t||a)return;document.querySelectorAll("img").forEach(n=>{(1===n.width&&1===n.height||1===n.naturalWidth&&1===n.naturalHeight)&&n.remove()})}function r(){if(!t||a)return;['[class*="cookie-banner"]','[class*="cookie-consent"]','[class*="cookie-notice"]','[class*="cookie-policy"]','[id*="cookie-banner"]','[id*="cookie-consent"]',".cookie-banner",".cookie-consent","#cookie-notice","#gdpr-banner"].forEach(n=>{try{document.querySelectorAll(n).forEach(n=>n.remove())}catch(n){}})}function g(){const n=document.createElement("script");n.textContent="\n      (function() {\n        // Block various ad-related APIs\n        const noop = () => {};\n        const noopReturn = () => ({});\n        \n        // Block common ad variables\n        window.googletag = window.googletag || {};\n        window.googletag.cmd = window.googletag.cmd || [];\n        window.googletag.pubads = noopReturn;\n        window.googletag.defineSlot = noopReturn;\n        window.googletag.display = noop;\n        window.googletag.enableServices = noop;\n        \n        // Block analytics\n        window.ga = noop;\n        window._gaq = window._gaq || [];\n        window._gaq.push = noop;\n        \n        // Block Facebook Pixel\n        window.fbq = noop;\n        \n        // Block other trackers\n        window.gtag = noop;\n        window.dataLayer = window.dataLayer || [];\n        window.dataLayer.push = noop;\n      })();\n    ",document.documentElement&&(document.documentElement.appendChild(n),n.remove())}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{d(),g()}):(d(),g()),chrome.runtime.onMessage.addListener((n,e,o)=>{"settingsUpdated"===n.action?(t=n.settings?.enabled??!0,i=n.settings?.tier?.level||1,d()):"tierUpdated"===n.action&&(i=n.tier,d())}),setInterval(d,3e4)})()})();
//# sourceMappingURL=content.js.map